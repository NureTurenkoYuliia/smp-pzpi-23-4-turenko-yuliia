МІНІСТЕРСТВО ОСВІТИ І НАУКИ УКРАЇНИ

ХАРКІВСЬКИЙ НАЦІОНАЛЬНИЙ
УНІВЕРСИТЕТ РАДІОЕЛЕКТРОНІКИ







ЗВІТ
з дисципліни «Скриптові мови програмування»
із лабораторної роботи №2
     




Виконала: 							Перевірив: 
ст. гр. ПЗПІ-23-4 						старший викладач каф. ПІ 
Туренко Ю.С. 						Сокорчук І.П.
     
     
     
     
     


ХАРКІВ 2025

2. КОНСОЛЬНИЙ ЗАСТОСУНОК НА МОВІ PHP
2.1. Історія змін
№ДатаВерсія звітуОпис змін та виправлень121.040.1Створено розділ «Завдання»201.050.2Створено розділи «Опис виконаної роботи» та «Висновок»307.050.3Додано матеріали у Додатки
2.2. Завдання
     Створити консольний застосунок «Продовольчий магазин "Весна"».

2.3. Опис виконаної роботи
     У програмі створено низку функцій, кожна з яких відповідає певній команді чи виводі інформації. Для простого і зручного зберігання даних використані масиви. Програма працює в циклі, виводячи меню з вибором дій: вибір товарів, рахунок, профіль або вихід. 
     Для вирівнювання тексту як у таблицях використовуються функції my_pad і my_strlen. Вибір продуктів здійснюється за номером, isset перевіряє наявність товару в списку. Введена кількість перевіряється на коректність і додається або видаляється з кошика. Під час перегляду рахунку обчислюється загальна вартість покупки. Усі введення здійснюються через fgets(STDIN) і обробляються за допомогою trim.
     У програмі використано такі функції:
* preg_match_all() функція, яка знаходить усі символи у рядку;
* str_repeat() створює рядок із повторюваних символів;
* empty() перевіряє, чи змінна порожня;
* isset() перевіряє, чи існує змінна або елемент масиву, і не є NULL;
* trim() видаляє пробіли і табуляцію на початку та в кінці рядка;
* is_numeric() перевіряє, чи значення є числом або рядком, який виглядає як число.

2.4. Висновок
     Під час виконання завдання, були повторені на практиці знання мови PHP. Був реалізований застосунок для продуктового магазину, що дозволяє користувачу керувати кошиком, переглядати рахунок і налаштовувати профіль.


ДОДАТОК А
Відеозапис
Відеозапис презентації результатів лабораторної роботи: https://youtu.be/ke1VT51KWls 
Хронологічний опис відеозапису:
00:00 — Вступ (представлення і опис завдання)
00:30 — Масиви (пояснення використання масивів)
01:10 — Цикл для основних команд (пояснення циклу, з якого починається виконання скрипта)
02:21 — Меню з командами (пояснення функції, що виводить основні команди) 
03:08 — Допоміжні функції
04:58 — Функція виводу продуктів (пояснення виводу продуктів)
06:10 — Функція виводу кошика  (пояснення виводу кошика)
06:40 — Додавання продукту в кошик  (пояснення функції, в якій перевіряється ввід користувача для вибору продукту й вказування кількості)
07:52 — Функція виводу чеку  (пояснення виводу чеку з переліком продуктів у кошику й сумою оплати)
08:11 — Редагування даних користувача  (пояснення функції, що дає можливість користувачу додати/змінити свої ім’я та вік)
09:26 — Запуск програми (запуск програми й перевірка правильності)


ДОДАТОК Б
Графічні матеріали

     Рисунок Б.1 – Вивід меню і продуктів з їх вибором


	Рисунок Б.2 – Вивід чеку з інформацією про продукти і вартість

ДОДАТОК В
Програмний код
1  <?php
2  
3  $products = [
4      ["name" => "Молоко пастеризоване", "price" => 12],
5      ["name" => "Хліб чорний", "price" => 9],
6      ["name" => "Сир білий", "price" => 21],
7      ["name" => "Сметана 20%", "price" => 25],
8      ["name" => "Кефір 1%", "price" => 19],
9      ["name" => "Вода газована", "price" => 18],
10     ["name" => "Печиво \"Весна\"", "price" => 14],
11 ];
12 
13 $cart = [];
14 $user = ["name" => "", "age" => 0];
15 
16 function menu() {
17     echo "\n################################\n";
18     echo "# ПРОДОВОЛЬЧИЙ МАГАЗИН \"ВЕСНА\" #\n";
19     echo "################################\n";
20     echo "1 Вибрати товари\n";
21     echo "2 Отримати підсумковий рахунок\n";
22     echo "3 Налаштувати свій профіль\n";
23     echo "0 Вийти з програми\n";
24     echo "Введіть команду: ";
25 }
26 
27 function my_strlen($str) {
28     return preg_match_all("/./u", $str, $matches);
29 }
30 
31 function my_pad($str, $length, $padChar = ' ') {
32     $strLen = my_strlen($str);
33     return $str . str_repeat($padChar, max(0, $length - $strLen));
34 }
35 
36 function showProducts($products) {
37     echo my_pad("№", 2) . my_pad("НАЗВА", 22) . my_pad("ЦІНА", 4) . PHP_EOL;
38     $i = 1;
39     foreach ($products as $product) {
40         echo my_pad($i++, 2) .
41              my_pad($product["name"], 22) .
42              my_pad($product["price"], 4) . PHP_EOL;
43     }
44 
45     echo "   -----------\n";
46     echo "0  ПОВЕРНУТИСЯ\n";
47     echo "Виберіть товар: ";
48 }
49 
50 function showCart($cart) {
51     if (empty($cart)) {
52         echo "\nКОШИК ПОРОЖНІЙ\n";
53         return;
54     }
55 
56     echo "\nУ КОШИКУ:\n". my_pad("НАЗВА", 22) . my_pad("КІЛЬКІСТЬ", 4) . PHP_EOL;
57     foreach ($cart as $name => $qty) {
58         echo my_pad($name, 22) .  my_pad($qty, 4) . PHP_EOL;
59     }
60 }
61 
62 function buyProducts(&$products, &$cart) {
63     while (true) {
64         showProducts($products);
65         $choice = trim(fgets(STDIN));
66         if ($choice === "0") return;
67 
68         if (!isset($products[(int)$choice - 1])) {
69             echo "\nПОМИЛКА! ВКАЗАНО НЕПРАВИЛЬНИЙ НОМЕР ТОВАРУ\n";
70             continue;
71         }
72 
73         $product = $products[(int)$choice - 1];
74         echo "\nВибрано: {$product['name']}\n";
75         echo "Введіть кількість, штук: ";
76         $qty = trim(fgets(STDIN));
77         if (!is_numeric($qty) || (int)$qty < 0 || (int)$qty > 99) {
78             echo "ПОМИЛКА! Введіть кількість від 0 до 99\n";
79             continue;
80         }
81 
82         $qty = (int)$qty;
83         if ($qty === 0) {
84             echo "ВИДАЛЯЮ З КОШИКА\n";
85             unset($cart[$product['name']]);
86         } else {
87             $cart[$product['name']] = $qty;
88         }
89 
90         showCart($cart);
91     }
92 }
93 
94 function showBill($cart, $products) {
95     if (empty($cart)) {
96         echo "\nКОШИК ПОРОЖНІЙ\n";
97         return;
98     }
99 
100     echo my_pad("№", 2) . my_pad("НАЗВА", 22) . my_pad("ЦІНА", 5) . my_pad("КІЛЬКІСТЬ", 10) . my_pad("ВАРТІСТЬ", 9) . PHP_EOL;
101     $i = 1;
102     $total = 0;
103     foreach ($cart as $name => $qty) {
104         $price = 0;
105         foreach ($products as $p) {
106             if ($p['name'] === $name) {
107                 $price = $p['price'];
108                 break;
109             }
110         }
111         $sum = $price * $qty;
112         $total += $sum;
113         echo my_pad($i++, 2) . my_pad($name, 22) . my_pad($price, 5) . my_pad($qty, 10) . my_pad($sum, 9) . PHP_EOL;
114     }
115 
116     echo "\nРАЗОМ ДО CПЛАТИ: $total\n";
117 }
118 
119 function setProfile(&$user) {
120     while (true) {
121         echo "\nВаше імʼя: ";
122         $name = trim(fgets(STDIN));
123 
124         if ($name === '') {
125             echo "ПОМИЛКА! Імʼя не може бути порожнім\n";
126             continue;
127         }
128 
129         if (preg_match('/^[a-zA-Zа-яА-ЯіІїЇєЄ\'\-\s]+$/u', $name)) {
130             $user['name'] = $name;
131             break;
132         } else {
133             echo "ПОМИЛКА! Імʼя повинно містити лише літери\n";
134         }
135     }
136     while (true) {
137         echo "Ваш вік: ";
138         $age = trim(fgets(STDIN));
139         if (is_numeric($age) && $age >= 7 && $age <= 150) {
140             $user['age'] = (int)$age;
141             break;
142         }
143         
144         echo "ПОМИЛКА! Вік повинен бути від 7 до 150\n";
145     }
146 }
147 
148 while (true) {
149     menu();
150     $input = trim(fgets(STDIN));
151     switch ($input) {
152         case "1":
153             buyProducts($products, $cart);
154             break;
155         case "2":
156             showBill($cart, $products);
157             break;
158         case "3":
159             setProfile($user);
160             break;
161         case "0":
162             echo "До побачення!\n";
163             exit;
164         default:
165             echo "ПОМИЛКА! Введіть правильну команду\n";
166     }
167 }

      2
      
      
